<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tools for Working with Airbnb Datasets • airbnbtools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools for Working with Airbnb Datasets">
<meta name="description" content="The airbnbtools package provides a set of functions designed to simplify the process of downloading, cleaning, transforming, and analyzing Airbnb datasets.">
<meta property="og:description" content="The airbnbtools package provides a set of functions designed to simplify the process of downloading, cleaning, transforming, and analyzing Airbnb datasets.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">airbnbtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/airbnbtools-intro.html">airbnbtools-intro</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="airbnbtools">airbnbtools<a class="anchor" aria-label="anchor" href="#airbnbtools"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <strong>airbnbtools</strong> is to streamline the process of working with Airbnb datasets, offering tools for downloading, transforming, and modeling data. This package provides several functions to automate tasks such as data acquisition, data cleaning, and model training and evaluation, helping to make the data analysis workflow more efficient.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <strong>airbnbtools</strong> from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"DSCI-310-2025/airbnbtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The <code>airbnbtools</code> package provides several useful functions for data manipulation and analysis. Here are some common tasks:</p>
<div class="section level3">
<h3 id="convert-selected-columns-to-factor-type">Convert selected columns to factor type<a class="anchor" aria-label="anchor" href="#convert-selected-columns-to-factor-type"></a>
</h3>
<p>The function <code><a href="reference/convert_columns_to_factor.html">convert_columns_to_factor()</a></code> converts specific columns of a data frame to factors.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  room_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Private room"</span>, <span class="st">"Entire home/apt"</span><span class="op">)</span>,</span>
<span>  host_is_superhost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"t"</span>, <span class="st">"f"</span><span class="op">)</span>,</span>
<span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Madrid"</span>, <span class="st">"Barcelona"</span><span class="op">)</span>,</span>
<span>  weekdays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/convert_columns_to_factor.html">convert_columns_to_factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;         room_type host_is_superhost      city weekdays price</span></span>
<span><span class="co">#&gt; 1    Private room                 t    Madrid     TRUE   100</span></span>
<span><span class="co">#&gt; 2 Entire home/apt                 f Barcelona    FALSE   150</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="download-and-combine-airbnb-data">Download and combine Airbnb data<a class="anchor" aria-label="anchor" href="#download-and-combine-airbnb-data"></a>
</h3>
<p>Use <code><a href="reference/download_combine_data.html">download_combine_data()</a></code> to download data from multiple sources and combine them into a single data frame.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Vancouver_weekdays"</span> <span class="op">=</span> <span class="st">"https://example.com/vancouver_weekdays.csv"</span>,</span>
<span>  <span class="st">"Toronto_weekends"</span> <span class="op">=</span> <span class="st">"https://example.com/toronto_weekends.csv"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">combined_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_combine_data.html">download_combine_data</a></span><span class="op">(</span><span class="va">urls</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">combined_df</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="create-a-grid-of-histograms">Create a grid of histograms<a class="anchor" aria-label="anchor" href="#create-a-grid-of-histograms"></a>
</h3>
<p>The function <code><a href="reference/create_histogram_grid.html">create_histogram_grid()</a></code> generates and saves a grid of histograms for numeric columns in a data frame.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span>, <span class="fl">200</span>, <span class="fl">250</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">35</span><span class="op">)</span>,</span>
<span>  rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.5</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">3.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">out_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".png"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_histogram_grid.html">create_histogram_grid</a></span><span class="op">(</span><span class="va">df</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"price"</span>, <span class="st">"size"</span>, <span class="st">"rating"</span><span class="op">)</span>, output_path <span class="op">=</span> <span class="va">out_path</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="evaluate-a-regression-model">Evaluate a regression model<a class="anchor" aria-label="anchor" href="#evaluate-a-regression-model"></a>
</h3>
<p>Use <code><a href="reference/evaluate_model.html">evaluate_model()</a></code> to compute evaluation metrics (RMSE, MAE, R-squared) for a regression model.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, y <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/evaluate_model.html">evaluate_model</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">df</span>, response_col <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;    RMSE   MAE    R2</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1  1.03 0.816 0.971</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="split-data-into-training-and-testing-sets">Split data into training and testing sets<a class="anchor" aria-label="anchor" href="#split-data-into-training-and-testing-sets"></a>
</h3>
<p>The <code><a href="reference/split_train_test.html">split_train_test()</a></code> function splits a dataset into training and testing sets using stratified sampling.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">split_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/split_train_test.html">split_train_test</a></span><span class="op">(</span><span class="va">df</span>, response_col <span class="op">=</span> <span class="st">"y"</span>, train_ratio <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">split_data</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    76 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ x: num  -0.278 -2.128 0.43 0.134 -0.731 ...</span></span>
<span><span class="co">#&gt;  $ y: num  0.0127 0.5727 0.7917 1.913 1.1718 ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">split_data</span><span class="op">$</span><span class="va">test</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    24 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ x: num  -1.074 -1.757 0.624 1.086 -0.376 ...</span></span>
<span><span class="co">#&gt;  $ y: num  -0.468 -0.525 -1.221 0.258 0.317 ...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="train-a-regression-model-using-caret">Train a regression model using caret<a class="anchor" aria-label="anchor" href="#train-a-regression-model-using-caret"></a>
</h3>
<p>Use <code><a href="reference/train_model.html">train_model()</a></code> to train a regression model using the <code>caret</code> package.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">200</span>, sd <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">80</span>, sd <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>  rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">4</span>, sd <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/train_model.html">train_model</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = .outcome ~ ., data = dat)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -112.384  -30.214   -4.179   29.174  115.875 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept) 244.9042    55.8091   4.388 2.91e-05 ***</span></span>
<span><span class="co">#&gt; size         -0.5055     0.5286  -0.956    0.341    </span></span>
<span><span class="co">#&gt; rating       -1.6094     9.6998  -0.166    0.869    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 48.82 on 97 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.009906,   Adjusted R-squared:  -0.01051 </span></span>
<span><span class="co">#&gt; F-statistic: 0.4853 on 2 and 97 DF,  p-value: 0.617</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="validate-airbnb-data">Validate Airbnb data<a class="anchor" aria-label="anchor" href="#validate-airbnb-data"></a>
</h3>
<p>The <code><a href="reference/validate_airbnb_data.html">validate_airbnb_data()</a></code> function checks and converts specified columns of a data frame to factors.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  room_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Entire home/apt"</span>, <span class="st">"Private room"</span><span class="op">)</span>,</span>
<span>  host_is_superhost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"t"</span>, <span class="st">"f"</span><span class="op">)</span>,</span>
<span>  city <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Berlin"</span>, <span class="st">"Paris"</span><span class="op">)</span>,</span>
<span>  weekdays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Monday"</span>, <span class="st">"Tuesday"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/validate_airbnb_data.html">validate_airbnb_data</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing airbnbtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zijian Cheng <br><small class="roles"> Author, maintainer </small>  </li>
<li>Yueyang Ding <br><small class="roles"> Author </small>  </li>
<li>Tiffany Gong <br><small class="roles"> Author </small>  </li>
<li>Chenguang Li <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zijian Cheng, Yueyang Ding, Tiffany Gong, Chenguang Li.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
